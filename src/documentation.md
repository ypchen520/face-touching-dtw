## Raw Data

## The knndtw Module

* recognizer.py
  * class ActivityRecognizer
    * __init__
      * directories
        * preprocessed raw data points
        * labels (recordings)
        * self.processed_data = {}
          * PID : [a list of time series]
            * a time series is presented by a dictionary (for the purpose of tri-axial data)
            * this dictionary represents a subsuquence extracted from a 3-minute activity time series
        * self.processed_labels = {}
          * PID : [a list of labels corresponding to each time series]
    * extract_activity_processed
      * input
        * processed data directory
      * process
        * call extract_activity_csv to extract data from csv files in each folder that contains preprocessed data that consists of time series generated by dividing the original entire activity time series (3-minute long)
        * extracts PID based on the file name
        * assign a list of data to self.data[PID]
        * assign a list of labels to self.labels[PID]
      * output
        * NA
    * extract_activity_processed
      * input
        * csv file that contains the processed data
      * process
        * use pd.read_csv()
        * index
          * since each 3-minute activity time series is divided into multiple smaller time series, each subsequence has an index in the csv file
      * output
        * a list of dictionaries
          * each dictionary consists of: {'accelX': [subsequence], 'accelY': [...], 'accelZ': [...]}
          * e.g. [{}, {}, {}, ..., {}, {}, ...]
        * a list of labels
          * each label corresponds to a dictionary (a subsequence)
          * e.g. [1, 1, 1, ..., 6, 6, ...]
    * cross_validation
      * input
        * csv file that contains the processed data
      * process
        * training data []
          * PIDs: self.processed_data.keys()
            * select one as the test PID
          * the suquences (presented by a dictionary) from the rest PIDs are all appended to train_data
        * training labels []
        * test data []
          * self.processed_data[test_pid]
        * test labels []
        * KnnDtw.fit(train_data, train_label)
        * KnnDtw.predict(test_data)
          * get predicted label as a list
      * output
        * print average_accuracy
        * print average_precision
        * print average_recall
        * print average_f1
* data_extraction.py
  * data preprocessing
* knndtw.py
  * class KnnDtw
    * fit
      * assign training data to self.x
        * x: [{ACTIVITY 1}, {ACTIVITY 2}, {ACTIVITY 3}, ...]
        * {ACTIVITY N}: {'accelX': [], 'accelY': [], 'accelZ': []}
      * assign training labels to self.label
    * dtw_distance
      * input
        * ts_a, ts_b: array of shape [n_samples, n_timepoints]
        * Two arrays containing n_samples of timeseries data whose DTW distance between each sample of A and B will be compared
      * output
        * Returns the DTW similarity distance between two **2-D time series numpy arrays**.
    * dist_matrix
      * input
        * x: training data presented as a list dictionaries
          * [{ACTIVITY 1}, {ACTIVITY 2}, {ACTIVITY 3}, ...]
        * y: testing data presented as a list dictionaries
          * [{ACTIVITY 1}, {ACTIVITY 2}, {ACTIVITY 3}, ...]
    * predict
      * input
        * x: testing data presented as a list dictionaries
          * [{ACTIVITY 1}, {ACTIVITY 2}, {ACTIVITY 3}, ...]
      * process
        * calculate the distance matrix

## Entry Point

* dtw.py
